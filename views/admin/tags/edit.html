<link rel="stylesheet" href="/static/assets/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.css">
<form action="/admin/tags/edit" method="post">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">修改标签</h4>
    </div>

    <div class="modal-body">
        <div class="row">
            <div class="col-xs-12">

                {{with .Tags}}
                <input name="Id" type="hidden" value="{{.Id}}">
                <div class="form-group">
                    <label for="TagName" class="control-label sr-only">标签名称</label>

                    <div class="col-sm-12">
                        <input type="text" class="form-control" id="TagName" name="TagName" value="{{.TagName}}"
                               placeholder="名称">
                    </div>
                </div>
                <div class="form-group">
                    <label for="TagColor" class="control-label sr-only">标签颜色</label>
                    <div class="col-sm-12">
                        <div id="ColorGroup" class="input-group">
                            <div class="input-group-addon">
                                <i></i>
                            </div>
                            <input id="TagColor" name="TagColor" type="text" value="{{.TagColor}}" class="form-control"
                                   placeholder="颜色">
                        </div>
                    </div>
                    <!-- /.input group -->
                </div>
                {{end}}

            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary">确认保存</button>
    </div>
</form>
<script type="text/javascript">
    (function ($) {
        $("#ColorGroup").colorpicker({
            //color:'#00aabb'
        }).on('changeColor', function (e) {
            $("#TagColor").val(e.colore.color.toString('rgba'))
            $('#myForm').bootstrapValidator('validate');

        }).on('hidePicker', function (e) {
            $("#TagColor").val(e.colore.color.toString('rgba'))
            //alert($("#TagColor").val())
            $('#myForm').bootstrapValidator('validate');
            //var bootstrapValidator = $("#myForm").data('bootstrapValidator');
            //bootstrapValidator.validate();
        });
    })(jQuery);
</script>
<script src="/static/assets/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js"></script>